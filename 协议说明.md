# 河北科技大学遥控器通信协议说明

## 1.基本通信模型

用户层->协议层（封包或解包）->物理链路层（WIFI/蓝牙/LORO模块等）

## 2.帧格式

### 1.标准帧

#### 包类型：

PACK_TYPE_ACK	0x80——ACK包，该包需要接收方发送确认包

PACK_TYPE_NAK	0x00——NAK包，该包不需要接收方发送确认包

user_cmd是用户自定义的0~128的数字用于区分不同类型的数据包

数据域可以是1~256-8字节数据


| 包头(1) | 包长度(1) | 命令(1)                 | 包ID(4)    | 数据域(n)      | 和校验(1) |
| ------- | --------- | ----------------------- | ---------- | -------------- | --------- |
| 0x5A    | 8+n       | PACK_TYPE_ACK\|user_cmd | 0x00001234 | 0x123456780xF8 | 0x00      |

### 2.确认帧


| 包头(1) | 包ID(4)    |
| ------- | ---------- |
| 0xAA    | 0x00001234 |

注意：关于需要接收方发送ACK确认的数据包的情形，在发送方等待ACK的过程中，发送方可能不会停止发送其它类型的ACK/NAK包。
